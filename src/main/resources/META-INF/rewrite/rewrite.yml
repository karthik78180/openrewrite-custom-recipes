---
type: specs.openrewrite.org/v1beta/recipe
name: com.example.CompositeMigration
displayName: Upgrade Gradle to 8.14 and Apply Custom Recipes
description: Upgrades Gradle to version 8.14 and applies custom recipes for code modernization.
recipeList:
#  - org.openrewrite.java.spring.ChangeMethodParameter:
#      methodPattern: com.yourorg.A foo(int, int)
#      parameterType: java.lang.String
#      parameterIndex: 0
  - org.openrewrite.gradle.UpdateGradleWrapper:
      version: "8.13"
      distributionUrl: "https://services.gradle.org/distributions/gradle-8.13-bin.zip"
      distributionSha256Sum: "20f1b1176237254a6fc204d8434196fa11a4cfb387567519c61556e8710aed78"
      distributionType: "bin"
      archivePathPattern: "wrapper/dists"
  - com.rewrite.VehicleToCarRecipe
  - com.rewrite.Java21MigrationRecipes
  - com.rewrite.ChangeConstantsReference
  - org.openrewrite.java.AddMethodParameter:
        methodPattern: '* start(io.vertx.core.Promise)'
        parameterType: 'Structured'
        parameterName: 'structured'
        parameterValue: 'null'
  # Step 1: Change the first parameter from io.vertx.core.Promise<T> to List<?>
#  - org.openrewrite.java.ChangeMethodParameterType:
#      methodPattern: "* start(io.vertx.core.Promise)"
#      parameterIndex: 0
#      parameterType: "java.util.List"
  # Step 2: Add a second parameter of type String
#  - org.openrewrite.java.AddMethodParameter:
#      methodPattern: "* start(java.util.List)"  # Matches after the above change
#      parameterType: "java.lang.String"
#      parameterName: "description"
#      parameterIndex: 1